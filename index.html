<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" href="/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <script defer src="./config.js"></script>
  <title>Giveaway bot</title>
  <style>
/*
accent_text_color: '#'
*/
      body {
          /*--bg-color: var(--tg-theme-bg-color);*/
          font: 12px/18px "Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, Verdana, sans-serif;
          /*background-color: var(--bg-color);*/
          /*color: var(--tg-theme-text-color);*/
          margin: 0;
          padding: 0;
          /*color-scheme: var(--tg-color-scheme);*/
      }

      a {
          color: var(--tg-theme-link-color);
      }
      #viewport {
          position: fixed;
          left: 0;
          right: 0;
          top: 0;
          height: var(--tg-viewport-stable-height, 100vh);
          pointer-events: none;
          transition: all .2s ease;
      }
      #viewport:after {
          content: '';
          display: block;
          position: absolute;
          left: 0;
          right: 0;
          top: 0;
          bottom: 0;
          border-width: 1px;
          border-style: solid;
          border-image: linear-gradient(45deg, rgba(64, 224, 208, .5), rgba(173, 255, 47, .5)) 1;
      }

      #viewport-params-size,
      #viewport-params-expand {
          content: attr(text);
          position: absolute;
          display: inline-block;
          background: var(--tg-theme-link-color, rgb(64, 224, 208));
          right: 4px;
          left: auto;
          font-size: 8px;
          padding: 4px;
          vertical-align: top;
      }
      #viewport-params-size {
          top: 4px;
      }
      #viewport-params-expand {
          top: 30px;
      }
      /*.v-application {*/
      /*    background: var(--tg-theme-bg-color)!important;*/
      /*}*/
      /*button {*/
      /*    background-color: var(--tg-theme-button-color)!important;*/
      /*}*/
      .page-title {
          font-weight: bolder;
          font-size: 16px;
          margin: 12px 5px;
          /*color: var(--tg-theme-text-color)!important;*/
      }
      /*.v-field--variant-solo {*/
      /*    border-radius: 8px!important;*/
      /*    border: 1px solid var(--tg-theme-button-color)!important;*/
      /*    background-color: var(--tg-theme-secondary-bg-color)!important;*/
      /*}*/
      /*.v-switch__thumb {*/
      /*    color: var(--tg-theme-button-color)!important;*/
      /*}*/
      /*.v-switch__track {*/
      /*    background-color: var(--tg-theme-secondary-bg-color)!important;*/
      /*}*/
      /*.bg-secondary {*/
      /*    background-color: var(--tg-theme-secondary-bg-color)!important;*/
      /*}*/
      /*.bg-color {*/
      /*    background-color: var(--tg-theme-bg-color)!important;*/
      /*}*/
      /*.v-field--variant-solo {*/
      /*    background-color: var(--tg-theme-bg-color)!important;*/
      /*    color: var(--tg-theme-text-color)!important;*/
      /*}*/
      /*.v-container {*/
      /*    padding: 8px!important;*/
      /*}*/
      /*.v-card {*/
      /*    background: var(--tg-theme-button-color)!important;*/
      /*}*/
  </style>
</head>
<body>


<div id="app"></div>
<script type="module" src="/src/main.js"></script>
<!--  <h4>Modals</h4>-->
<!--  <button onclick="Telegram.WebApp.showAlert('Hello World!');">Alert</button>-->
<!--  <button onclick="showPopup();">Popup</button>-->

<!--  <h4>Links</h4>-->
<!--  <ul>-->
<!--    <li>-->
<!--      <a href="javascript:Telegram.WebApp.openTelegramLink('https://t.me/trendingapps');">Open link within Telegram</a>-->
<!--    </li>-->
<!--    <li>-->
<!--      <a href="javascript:Telegram.WebApp.openLink('https://ton.org/');">Open link in external browser</a>-->
<!--    </li>-->
<!--    <li>-->
<!--      <a href="javascript:Telegram.WebApp.openLink('https://telegra.ph/api',{try_instant_view:true});">Open link inside Telegram webview</a>-->
<!--    </li>-->
<!--  </ul>-->

<!--  <h4>Buttons</h4>-->
<!--  <button onclick="Telegram.WebApp.expand();">Expand Webview</button>-->
<!--  <button onclick="toggleMainButton();">Toggle Main Button</button>-->

<!--<div id="viewport"></div>-->
<!--<div id="viewport-params-size"></div>-->
<!--<div id="viewport-params-expand"></div>-->
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
  // Init TWA
  Telegram.WebApp.ready();

  // Event occurs whenever theme settings are changed in the user's Telegram app (including switching to night mode).
  Telegram.WebApp.onEvent('themeChanged', function() {
    document.documentElement.className = Telegram.WebApp.colorScheme;
  });


  // Function to call showPopup API
  function showPopup() {
    Telegram.WebApp.showPopup({
      title: 'Title',
      message: 'Some message',
      buttons: [
        {id: 'link', type: 'default', text: 'Open ton.org'},
        {type: 'cancel'},
      ]
    }, function(btn) {
      if (btn === 'link') {
        Telegram.WebApp.openLink('https://ton.org/');
      }
    });
  };

  // Function to toggle main TWA button
  function toggleMainButton() {
    if (Telegram.WebApp.MainButton.isVisible) {
      Telegram.WebApp.MainButton.hide();
    } else {
      Telegram.WebApp.MainButton.show();
    }
  };

  // function setViewportData() {
  //   var sizeEl = document.getElementById('viewport-params-size');
  //   sizeEl.innerText = 'width: ' + window.innerWidth + ' x ' +
  //     'height: ' + Telegram.WebApp.viewportStableHeight;
  //
  //   var expandEl = document.querySelector('#viewport-params-expand');
  //   expandEl.innerText = 'Is Expanded: ' + (Telegram.WebApp.isExpanded ? 'true' : 'false');
  // }

  Telegram.WebApp.setHeaderColor('secondary_bg_color');

  // setViewportData();
  // Telegram.WebApp.onEvent('viewportChanged', setViewportData);

  Telegram.WebApp.onEvent('themeChanged', function() {
    document.body.setAttribute('style', '--bg-color:' + Telegram.WebApp.backgroundColor);
  });

</script>

</body>
</html>
